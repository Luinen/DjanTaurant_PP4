{% extends 'base.html'%}

{% load static %}

{%block content%}

<main>
        <section class="about">

            <h1>Welcome to Djantaurant</h1>
            <p> We build the menu on the best quility ingredients available. Our menu changes seasonally from month to month. Great taste experience!</p>

        </section>

        <!-- Booking container -->

        <section class="booking_container">

            {% for booking in bookings%}
                    <div class="booking_card">
                        <div class="booking_info">
                            {% if user.is_superuser %}
                            <h2>{{booking.restaurant.name}}</h2>
                            <h2>{{booking.user}}</h2>
                            <p class="bookingdt">{{booking.datetime}}</p>
                            <h4>{{booking.guest_number}}/person(s)
                                <button class="updateBooking" type="button">
                                <a href="update/{{booking.datetime.day}}/{{booking.datetime.month}}/{{booking.datetime.year}}/{{booking.datetime.hour}}/{{booking.datetime.minute}}?field=guest_number&new_value={{booking.guest_number|add:'-1'}}">-</a>
                                </button>
                                <button class="updateBooking" type="button">
                                <a href="update/{{booking.datetime.day}}/{{booking.datetime.month}}/{{booking.datetime.year}}/{{booking.datetime.hour}}/{{booking.datetime.minute}}?field=guest_number&new_value={{booking.guest_number|add:'1'}}">+</a>
                                </button>
                            </h4>
                            <button class="deleteBooking" type="button">
                            <a href="delete/{{booking.datetime.day}}/{{booking.datetime.month}}/{{booking.datetime.year}}/{{booking.datetime.hour}}/{{booking.datetime.minute}}?user={{booking.user}}">Delete</a>
                            </button>
                            <button class="updateBooking" type="button">
                            <a href="update/{{booking.datetime.day}}/{{booking.datetime.month}}/{{booking.datetime.year}}/{{booking.datetime.hour}}/{{booking.datetime.minute}}">Update</a>
                            </button>

                            {% elif user.is_authenticated %}
                            <h2>{{booking.restaurant.name}}</h2>
                            <p class="bookingdt">{{booking.datetime}}</p>
                            <h4>{{booking.guest_number}}/person(s)
                                <button class="updateBooking" type="button">
                                <a href="update/{{booking.datetime.day}}/{{booking.datetime.month}}/{{booking.datetime.year}}/{{booking.datetime.hour}}/{{booking.datetime.minute}}?field=guest_number&new_value={{booking.guest_number|add:'-1'}}">-</a>
                                </button>
                                <button class="updateBooking" type="button">
                                <a href="update/{{booking.datetime.day}}/{{booking.datetime.month}}/{{booking.datetime.year}}/{{booking.datetime.hour}}/{{booking.datetime.minute}}?field=guest_number&new_value={{booking.guest_number|add:'1'}}">+</a>
                                </button>
                            </h4>

                            <button class="deleteBooking" type="button">
                            <a href="delete/{{booking.datetime.day}}/{{booking.datetime.month}}/{{booking.datetime.year}}/{{booking.datetime.hour}}/{{booking.datetime.minute}}">Delete</a>
                            </button>
                            <form action="update/{{booking.datetime.day}}/{{booking.datetime.month}}/{{booking.datetime.year}}/{{booking.datetime.hour}}/{{booking.datetime.minute}}?field=time" method="POST">
                                <input type="date" id="start" value="2023-06-23" id="date" name="date">
                                <input type="submit">
                            </form>
                            <button class="updateBooking" type="button">
                            <a href="update/{{booking.datetime.day}}/{{booking.datetime.month}}/{{booking.datetime.year}}/{{booking.datetime.hour}}/{{booking.datetime.minute}}">Update</a>
                            </button>
                            {% endif %}
                        </div>
                    </div>
            {% endfor %}
            {% if user.is_superuser %}
            <div>
                <button class="deleteBooking" type="button">
                    <a href="./?order_by=user">User</a>
                </button>
                <button class="deleteBooking" type="button">
                    <a href="./?order_by=datetime">Datetime</a>
                </button>
            </div>
            {% endif %}
        </section>
    </main>

{%endblock%}